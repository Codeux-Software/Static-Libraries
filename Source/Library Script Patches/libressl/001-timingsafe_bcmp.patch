--- include/compat/string.h.orig	2021-06-17 09:57:26.000000000 -0400
+++ include/compat/string.h	2021-06-17 09:55:48.000000000 -0400
@@ -56,7 +56,14 @@
 #endif
 
 #ifndef HAVE_TIMINGSAFE_BCMP
-int timingsafe_bcmp(const void *b1, const void *b2, size_t n);
+int timingsafe_bcmp(const void *b1, const void *b2, size_t n)
+#ifdef __APPLE__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wavailability"
+__attribute__((availability(macos,introduced=10.0))) // override availability warning
+#pragma clang diagnostic pop
+#endif
+;
 #endif
 
 #ifndef HAVE_TIMINGSAFE_MEMCMP
